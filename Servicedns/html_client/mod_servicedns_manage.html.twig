{% if order.status == 'active' %}
<div class="card mb-4">
    <div class="card-header">
        <h2>{{ order.title }} {{ 'for' }} {{ service.domain_name }}</h2>
    </div>
    <div class="card-body">
        <h3>{{ 'DNS Record Management'|trans }}</h3>
        
        <form id="addRecordForm" class="mb-4">
            <div class="row g-3">
                <div class="col-md">
                    <select class="form-select" required>
                        <option value="" disabled selected>Select Type</option>
                        <option value="A">A</option>
                        <option value="AAAA">AAAA</option>
                        <option value="CNAME">CNAME</option>
                        <option value="MX">MX</option>
                        <option value="TXT">TXT</option>
                        <option value="SPF">SPF</option>
                        <option value="DS">DS</option>
                    </select>
                </div>
                <div class="col-md">
                    <input type="text" class="form-control" placeholder="Name" required>
                </div>
                <div class="col-md">
                    <input type="text" class="form-control" placeholder="Value" required>
                </div>
                <div class="col-md-2">
                    <input type="number" class="form-control" placeholder="TTL" required>
                </div>
                <div class="col-md-auto">
                    <button type="button" class="btn btn-primary" id="dns-addrecord">{{ 'Add Record'|trans }}</button>
                </div>
            </div>
        </form>

        <table class="table table-striped table-bordered table-sm">
            <thead>
                <tr>
                    <th scope="col">Type</th>
                    <th scope="col">Name</th>
                    <th scope="col">Value</th>
                    <th scope="col">TTL</th>
                    <th scope="col">Actions</th>
                </tr>
            </thead>
            <tbody id="recordsTableBody">
                <!-- DNS Records will be added here -->
            </tbody>
        </table>
    </div>
</div>

<script type="text/javascript">
    document.querySelector('#dns-addrecord').addEventListener('click', (event) => {
        event.preventDefault();

        if (confirm("{{ 'Are you sure?'|trans }}")) {
            API.client.post('servicedns/add', { order_id: {{ order.id }} }, function(result) {
                bb.reload();
            });
        }
    });
    
    document.querySelector('#dns-delrecord').addEventListener('click', (event) => {
        event.preventDefault();

        if (confirm("{{ 'Are you sure?'|trans }}")) {
            API.client.post('servicedns/del', { order_id: {{ order.id }} }, function(result) {
                bb.reload();
            });
        }
    });
</script>
{% endif %}
